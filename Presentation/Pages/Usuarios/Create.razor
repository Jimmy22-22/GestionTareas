@page "/usuarios/create"
@inject UsuarioService UsuarioService
@inject NavigationManager Navigation

<h3><i class="bi bi-plus-circle-fill"></i> Nuevo Usuario</h3>

<EditForm Model="nuevoUsuario" OnValidSubmit="CrearUsuario">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label>Nombre:</label>
        <InputText class="form-control" @bind-Value="nuevoUsuario.Nombre" />
    </div>
    <div class="form-group">
        <label>Correo:</label>
        <InputText class="form-control" @bind-Value="nuevoUsuario.Correo" />
    </div>

    <button class="btn btn-success mt-2">
        <i class="bi bi-check-circle-fill"></i> Crear
    </button>
</EditForm>

@code {
    private Usuario nuevoUsuario = new();

    private async Task CrearUsuario()
    {
        await UsuarioService.Crear(nuevoUsuario);
        Navigation.NavigateTo("/usuarios");
    }
}
